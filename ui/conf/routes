# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               	controllers.Assets.at(path="/public", file)
GET     /webjars/*file                  controllers.WebJarAssets.at(file)

# Login
GET		/login							controllers.Application.login()
GET		/authenticate					controllers.Application.authenticate()
GET		/logout							controllers.Application.logout()

# Home page
GET     /                           	controllers.Node.index()

# Javascript Router
GET	/assets/javascripts/routes	controllers.Application.getJSRoutes()

# CMIS Rest API
GET     /objects               			controllers.Node.showChildren(id="/")
GET     /objects/search               	controllers.Node.search(term:String ?= "")
GET     /objects/new               		controllers.Node.showBlank()
POST	/objects/create               	controllers.Node.create()
GET		/objects/js/:objectId/ace/:principalId	controllers.Node.jsGetAce(objectId:String, principalId:String)
GET     /objects/:id               		controllers.Node.showDetail(id:String)
GET     /objects/:id/property           controllers.Node.showProperty(id:String)
GET     /objects/:id/download           controllers.Node.download(id:String)
GET     /objects/:id/file               controllers.Node.showFile(id:String)
GET     /objects/:id/preview            controllers.Node.showPreview(id:String)
GET     /objects/:id/download-preview   controllers.Node.downloadPreview(id:String)
GET     /objects/:id/version            controllers.Node.showVersion(id:String)
GET		/objects/:id/permission			controllers.Node.showPermission(id:String)
GET     /objects/:id/children           controllers.Node.showChildren(id)
POST    /objects/:id/update            	controllers.Node.update(id:String)
POST    /objects/:id/update-permission  controllers.Node.updatePermission(id:String)
POST    /objects/:id/upload            	controllers.Node.upload(id:String)
POST    /objects/:id/checkout          	controllers.Node.checkOut(id:String)
POST    /objects/:id/checkin           	controllers.Node.checkIn(id:String)
POST    /objects/:id/cancel-checkout   	controllers.Node.cancelCheckOut(id:String)
POST 	/objects/:id/delete				controllers.Node.delete(id:String)
GET		/path/children					controllers.Node.showChildrenByPath(path:String ?= "/")

# User API
GET     /users               			controllers.User.index()
GET		/users/search					controllers.User.search(term: String ?= "")
GET     /users/new               		controllers.User.showBlank()
POST	/users/create					controllers.User.create()
GET		/users/:id						controllers.User.showDetail(id:String)
POST	/users/:id/update				controllers.User.update(id:String)
POST	/users/:id/delete				controllers.User.delete(id:String)

# Group API
GET		/groups							controllers.Group.index()
GET		/groups/search					controllers.Group.search(term:String ?= "")
GET		/groups/new						controllers.Group.showBlank()
POST	/groups/create					controllers.Group.create()
GET		/groups/:id						controllers.Group.showProperty(id:String)
POST	/groups/:id/update				controllers.Group.update(id:String)
POST	/groups/:id/delete				controllers.Group.delete(id:String)

# Principal API
GET		/principals/search				controllers.Principal.search(term:String ?= "", groupId:String ?= "")

# Search engine API
GET		/search-engine					controllers.SearchEngine.index()		
GET		/search-engine/init				controllers.SearchEngine.init()
GET		/search-engine/reindex			controllers.SearchEngine.reindex()

# ObjectType API
GET		/types							controllers.Type.index()
GET		/types/:id/download				controllers.Type.download(id:String)
GET		/types/new						controllers.Type.showBlank()
POST	/types/create					controllers.Type.create()
GET		/types/edit						controllers.Type.edit()
POST	/types/update					controllers.Type.update()
POST	/types/:id/delete				controllers.Type.delete(id:String)